<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>hello! SOP!!!</h1>

    <iframe class="youtube" width="1424" height="652" src="https://www.youtube.com/embed/5tQeSeyUQL0"
        title="YouTube video player" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>

    <iframe class="sameOrigin" src="sameOrigin.html" frameborder="0"></iframe>


    <script>
        const pageOther = document.querySelector(".youtube");
        const pageSame = document.querySelector(".sameOrigin");

        pageOther.onload = function () {
            console.log("pageOther : ", pageOther.contentDocument);
        }

        // iframe로 불러오는 페이지가 완전히 열리기 전에 script가 작동해서 html구조를 못읽는다. 그걸 방지하기 위해서 onload = function() 해주기
        pageSame.onload = function () {
            console.log("pageSame : ", pageSame.contentDocument);
            pageSame.contentDocument.body.style.backgroundColor = "red";
        }

        console.log("pageOther : ", pageOther.contentDocument);
        console.log("pageSame : ", pageSame.contentDocument);
        // pageOther :  null -> SOP 정책 때문에 안보인다.

    </script>
</body>

</html>